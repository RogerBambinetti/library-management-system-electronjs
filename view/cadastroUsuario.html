<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>
    <div class="container">
        <div class="title">
            <h2>Cadastro de usu√°rio</h2>
        </div>
        <div class="column one">
            <label>Nome:</label>
            <input type="text" id="nome">
            <label>Nascimento:</label>
            <input type="date" id="nascimento">
            <label>Tipo:</label>
            <select id="tipo">
                <option value="0">Aluno</option>
                <option value="1">Professor</option>
            </select>
            <button type="button" onclick="cadastrar()">Concluir</button>
        </div>
        <div class="column two">

        </div>
    </div>
</body>

<script>
    "use strict";
    const { dialog } = require('electron').remote;
    var ControlUsuario = require('../control/ControlUsuario');

    var controlUsuario = new ControlUsuario();

    function cadastrar() {
        var nome = document.getElementById("nome").value;
        var nascimento = document.getElementById("nascimento").value;
        var tipo = document.getElementById("tipo").value;
        var n = nascimento.split("-");
        if (controlUsuario.inserir(nome, new Date(n[0], n[1] - 1, n[2]), tipo)) {
            dialog.showMessageBox({ message: "Cadastrado" });
        } else {
            dialog.showMessageBox({ message: "Todos os campos devem estar preenchidos" });
        }
    }

</script>